{"version":3,"sources":["firebase/config.js","helpers/LoadNotes.js","hooks/fileUpload.js","types/types.js","actions/notes.js","hooks/useForm.js","components/notes/NotesAppBar.jsx","components/notes/NoteScreen.jsx","components/journal/NothingSelected.jsx","actions/ui.js","actions/auth.js","components/journal/JournalEntry.jsx","components/journal/JournalEntries.jsx","components/journal/Sidebar.jsx","components/journal/JournalScreen.jsx","components/auth/LoginScreen.jsx","components/auth/RegisterScreen.jsx","routers/AuthRouter.jsx","components/LoadingScreen.jsx","routers/PrivateRoute.jsx","routers/PublicRoute.jsx","routers/AppRouter.jsx","reducres/authReducer.js","reducres/uiReducer.js","reducres/notesReducer.js","store/store.js","JournalApp.jsx","index.js"],"names":["app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","googleAuthProvider","GoogleAuthProvider","auth","getAuth","loadNotes","uid","a","getDocs","collection","querySnapshot","notes","forEach","doc","push","id","data","fileUpload","file","formData","FormData","append","fetch","method","body","response","ok","json","cloudResp","secure_url","console","log","types","login","logout","uiSetError","uiRemoveError","uiStartLoading","uiFinishLoading","notesAddNew","notesActive","notesLoad","notesUpdated","notesFileUrl","notesDelete","notesLogoutCleaning","activeNote","note","type","payload","addNewNote","setNotes","refreshNote","deleteNote","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","target","name","value","NotesAppBar","dispatch","useDispatch","useSelector","state","active","className","style","display","onChange","files","url","URL","createObjectURL","onClick","document","querySelector","click","getState","Swal","fire","title","text","allowOutsideClick","didOpen","showLoading","noteFiresotore","fileUrl","docRef","updateDoc","startSaveNote","NoteScreen","formValues","activeId","useRef","activeUrl","useEffect","current","placeholder","autoComplete","src","alt","dispactch","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","result","isConfirmed","deleteDoc","dismiss","DismissReason","cancel","NothingSelected","setError","msg","removeError","JournalEntry","date","noteDate","moment","backgroundSize","backgroundImage","backgroundPosition","format","JournalEntries","map","Sidebar","signOut","newNote","Date","getTime","addDoc","error","JournalScreen","LoginScreen","ui","msgError","loading","email","password","onSubmit","e","preventDefault","trim","validator","isEmail","signInWithEmailAndPassword","user","displayName","message","startLoginEmailPassword","disabled","signInWithPopup","then","userCredential","catch","to","RegisterScreen","dispacth","password2","usuario","isFormValid","length","createUserWithEmailAndPassword","userCredentials","updateProfile","starRegisterWithEmailPassworName","AuthRouter","exact","path","component","LoadingScreen","PrivateRoute","Component","isLoggedIn","rest","props","PublicRoute","AppRouter","checking","setChecking","setIsLoggedIn","onAuthStateChanged","authReducer","action","uiReducer","notesReducer","filter","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.740e837f.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { GoogleAuthProvider } from \"firebase/auth\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_ATUHDOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECTID,\r\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n    appId: process.env.REACT_APP_APPID,\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nconst db = getFirestore(app);\r\n\r\nconst googleAuthProvider = new GoogleAuthProvider();\r\n\r\nconst auth = getAuth();\r\n\r\nexport {\r\n    db,\r\n    googleAuthProvider,\r\n    auth\r\n};","import { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"../firebase/config\"\r\n\r\n\r\nexport const loadNotes = async uid => {\r\n\r\n    const querySnapshot = await getDocs(collection(db, `${ uid }/journal/notes`));\r\n    const notes = [];\r\n\r\n    querySnapshot.forEach((doc) => {\r\n        // console.log(`${doc.id} => ${doc.data()}`);\r\n        notes.push({ \r\n            id: doc.id,\r\n            ...doc.data()\r\n        });\r\n    });\r\n\r\n    return notes;\r\n}","\r\nexport const fileUpload = async ( file ) => {\r\n\r\n    const cloudUrl = 'https://api.cloudinary.com/v1_1/dennzi6el/upload';\r\n\r\n    const formData = new FormData();\r\n    formData.append('upload_preset', 'React-Journal');\r\n    formData.append('file', file);\r\n\r\n\r\n    try {\r\n        \r\n        const response = await fetch( cloudUrl, {\r\n            method: 'POST',\r\n            body: formData\r\n        } );\r\n    \r\n        if(response.ok){\r\n            const cloudResp = await response.json();\r\n            return cloudResp.secure_url   \r\n        }else{\r\n            return null;\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\n}","\r\nconst types = {\r\n\r\n    // Autentication types\r\n    login: '[Auth] Login',\r\n    logout: '[Auth] Logout',\r\n\r\n    // ui types\r\n    uiSetError: '[UI] Set Error',\r\n    uiRemoveError: '[UI] Remove Error',\r\n    \r\n    uiStartLoading: '[UI] Start loading',\r\n    uiFinishLoading: '[UI] Finish loading',\r\n\r\n    //notes\r\n    notesAddNew: '[Notes] New note',\r\n    notesActive: '[Notes] Set active note',\r\n    notesLoad: '[Notes] Load notes',\r\n    notesUpdated: '[Notes] Updated Note',\r\n    notesFileUrl: '[Notes] Updated image url',\r\n    notesDelete: '[Notes] Delete note',\r\n    notesLogoutCleaning: '[Notes] Logout cleaning',\r\n\r\n}\r\n\r\n\r\nexport default types;","import { addDoc, collection, updateDoc, doc, deleteDoc } from \"firebase/firestore\";\r\nimport Swal from \"sweetalert2\";\r\nimport { db } from \"../firebase/config\";\r\nimport { loadNotes } from \"../helpers/LoadNotes\";\r\nimport { fileUpload } from \"../hooks/fileUpload\";\r\nimport types from \"../types/types\";\r\n\r\nconst startNewNote = () => {\r\n    return async ( dispatch, getState ) => {\r\n\r\n        const { uid } = getState().auth;\r\n        \r\n        const newNote = {\r\n            title: '',\r\n            body: '',\r\n            date: new Date().getTime()\r\n        }\r\n\r\n        try {\r\n            const docRef = await addDoc(collection(db, `${ uid }/journal/notes`), newNote);\r\n            // await Swal.fire( 'Nota Agregada', 'La nota fue agregada con exito', 'success' );\r\n\r\n            // console.log(docRef);\r\n\r\n            dispatch( activeNote( docRef.id, newNote ) );\r\n\r\n            dispatch( addNewNote({ id: docRef.id, ...newNote }) );\r\n\r\n        } catch (e) {\r\n            console.error(\"Error adding document: \", e);\r\n        }\r\n    }\r\n};\r\n\r\nconst activeNote = ( id, note ) => ({\r\n    type: types.notesActive,\r\n    payload: {\r\n        id,\r\n        ...note\r\n    }\r\n});\r\n\r\nconst addNewNote = note => ({\r\n    type: types.notesAddNew,\r\n    payload: note\r\n})\r\n\r\nconst startLoadinNotes = () => {\r\n    return async (dispatch, getState) => {\r\n        const { uid } = getState().auth;\r\n        const notes = await loadNotes( uid );\r\n        dispatch( setNotes( notes ) );\r\n    }\r\n};\r\n\r\nconst setNotes = notes => ({\r\n    type: types.notesLoad,\r\n    payload: notes\r\n});\r\n\r\nconst startSaveNote = note => {\r\n    return async (dispatch, getState) => {\r\n\r\n        Swal.fire({ \r\n            title: 'Uploading...', \r\n            text: 'Please Wait',\r\n            allowOutsideClick: false, \r\n            didOpen: () => {\r\n                Swal.showLoading();\r\n            }\r\n        })\r\n\r\n        const { uid } = getState().auth;\r\n\r\n        const noteFiresotore = { ...note };\r\n\r\n        if( !note.url ) delete noteFiresotore.url;\r\n        \r\n        // Agregar Image\r\n        if( note.file ){\r\n            const fileUrl = await fileUpload( note.file ); // sube el archivo a cloud dinary\r\n\r\n            noteFiresotore.url = fileUrl;\r\n\r\n            // eliminar datos no soportados por firebase\r\n            delete noteFiresotore.file;\r\n        }\r\n\r\n        // eliminar el id del objeto\r\n        delete noteFiresotore.id;\r\n\r\n        try {\r\n            const docRef = doc(db, `${ uid }/journal/notes/${ note.id }`); // referencia al doc\r\n\r\n            // actualizamos el doc\r\n            await updateDoc(docRef, noteFiresotore);\r\n\r\n            dispatch( refreshNote( { ...noteFiresotore, id: note.id } ) );\r\n\r\n            Swal.fire(\"Nota Actualizada\", \"Nota actualizada correctamente\", \"success\");\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            Swal.fire(\"Error\", \"Error al actualizar la nota\", \"error\");\r\n        }\r\n        \r\n    }    \r\n}\r\n\r\nconst refreshNote = note => ({\r\n    type: types.notesUpdated,\r\n    payload: note\r\n})\r\n\r\n// const startUploading = ( file ) => {\r\n//     return async (dispactch, getState) => {\r\n//         const { active: note } = getState().notes;\r\n        \r\n//         const url = URL.createObjectURL(file);\r\n\r\n//         console.log(url);\r\n\r\n//         console.log(URL.revokeObjectURL( url ));\r\n        \r\n//         dispactch( activeNote( note.id, { ...note, url } ) );\r\n//     }\r\n// }\r\n\r\nconst startDeleting = id => {\r\n    return async (dispactch, getState) => {\r\n\r\n        const uid = getState().auth.uid;\r\n          \r\n        const result = await Swal.fire({\r\n            title: 'Estas seguro?',\r\n            text: \"Los datos eliminados no se podran recuperar!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Sí, Eliminar!',\r\n            cancelButtonText: 'No, cancelar!',\r\n            reverseButtons: true\r\n        })\r\n\r\n        if (result.isConfirmed) {\r\n\r\n            // eliminar de firesatore\r\n            await deleteDoc(doc(db, `${ uid }/journal/notes/${ id }`));\r\n\r\n            // eliminar nota de la memoria\r\n            dispactch( deleteNote( id ) );\r\n\r\n            Swal.fire(\r\n                'Eliminado!',\r\n                'Tu nota ha sido eliminada exitosamente.',\r\n                'success'\r\n            )\r\n\r\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\r\n            Swal.fire(\r\n                'Cancelado',\r\n                'Nota no eliminada',\r\n                'error'\r\n            )\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst deleteNote = id => ({\r\n    type: types.notesDelete,\r\n    payload: id\r\n})\r\n\r\nconst noteLogout = () => ({\r\n    type: types.notesLogoutCleaning\r\n})\r\n\r\nexport {\r\n    startNewNote,\r\n    activeNote,\r\n    setNotes,\r\n    startLoadinNotes,\r\n    startSaveNote,\r\n    // startUploading,\r\n    startDeleting,\r\n    noteLogout\r\n}","import { useState } from 'react';\r\n\r\nexport const useForm = ( initialState = {} ) => {\r\n    \r\n    const [values, setValues] = useState(initialState);\r\n\r\n    const reset = ( newFormState = initialState ) => {\r\n        setValues(newFormState);\r\n    }\r\n\r\n    const handleInputChange = ({ target }) => {\r\n        setValues({ \r\n            ...values, \r\n            [target.name]: target.value\r\n        });\r\n    }\r\n\r\n    return [values, handleInputChange, reset];\r\n}","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { activeNote, startSaveNote } from '../../actions/notes';\r\n\r\nconst NotesAppBar = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { active: note } = useSelector(state => state.notes);\r\n\r\n    const handleSave = () => {\r\n\r\n        dispatch( startSaveNote( note ) );\r\n\r\n    }\r\n\r\n    const handleUpload = () => {\r\n        document.querySelector( '#fileSelector' ).click();\r\n    }  \r\n\r\n    const handleInputChange = ({ target }) => {\r\n        const [ file ] = target.files;\r\n\r\n        if( file ){\r\n            // dispatch( startUploading( file ) );\r\n            dispatch( activeNote( note.id, { ...note, url: URL.createObjectURL(file), file } ) );\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"notes__appbar\">\r\n            <span>28 agosto del 2020</span>\r\n\r\n            <input\r\n                id=\"fileSelector\"\r\n                className=\"btn\"\r\n                // name=\"file\"\r\n                type=\"file\"\r\n                style={{ display: 'none' }}\r\n                onChange={handleInputChange}\r\n            />\r\n\r\n            <div>\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleUpload}\r\n                >Picture</button>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleSave}\r\n                >Save</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotesAppBar;","import React, { useEffect, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { activeNote, startDeleting } from '../../actions/notes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport NotesAppBar from './NotesAppBar';\r\n\r\nconst NoteScreen = () => {\r\n\r\n    const { active: note } = useSelector(state => state.notes);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [ formValues, handleInputChange, reset ] = useForm(note);\r\n\r\n    const { title, body } = formValues;\r\n\r\n    const activeId = useRef( note.id ); // referencia en memoria\r\n\r\n    const activeUrl = useRef( note.url );\r\n\r\n    useEffect(() => {\r\n        \r\n        // Evitar ciclo infinito\r\n        if( activeId.current !== note.id || activeUrl.current !== note.url ){\r\n            reset( note );\r\n            activeId.current = note.id;\r\n            activeUrl.current = note.url;\r\n        }\r\n\r\n    }, [note, reset]);\r\n\r\n    // tambien puede ser en el handleInputChange, pero no tenemos  acceso a el desde este componente\r\n    useEffect(() => {\r\n\r\n        dispatch( activeNote( formValues.id, { ...formValues } ) );\r\n\r\n    }, [formValues, dispatch]);\r\n\r\n    return (\r\n        <div className=\"notes__main-content\">\r\n            <NotesAppBar />\r\n\r\n            <div className=\"notes__content\">\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Some awesome title\"\r\n                    className=\"notes__title-input\"\r\n                    autoComplete=\"off\"\r\n                    name=\"title\"\r\n                    value={title}\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <textarea \r\n                    placeholder=\"What Happend Today\"\r\n                    className=\"notes__text-area\"\r\n                    name=\"body\"\r\n                    value={body}\r\n                    onChange={handleInputChange}\r\n                ></textarea>\r\n\r\n                {\r\n                    note.url &&\r\n                        <div className=\"notes__image\">\r\n                            <img \r\n                                src={`${ note.url }`} \r\n                                alt=\"Journal\"\r\n                            />\r\n                        </div>\r\n                }\r\n            </div>\r\n\r\n            <button \r\n                className=\"btn btn-danger\"\r\n                onClick={ () => dispatch( startDeleting( note.id ) ) }\r\n            >Delete</button>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoteScreen;","import React from 'react'\r\n\r\nconst NothingSelected = () => {\r\n    return (\r\n        <div className=\"nothing__main-content\">\r\n            <p>\r\n                Select something\r\n                <br />\r\n                or create an entry!\r\n            </p>\r\n\r\n            <i className=\"far fa-star fa-4x mt-5\"></i>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NothingSelected;","import types from \"../types/types\";\r\n\r\n\r\nconst setError = msg => ({\r\n    type: types.uiSetError,\r\n    payload: msg\r\n})\r\n\r\nconst removeError = () => ({\r\n    type: types.uiRemoveError\r\n})\r\n\r\nconst uiStartLoading = () => ({\r\n    type: types.uiStartLoading\r\n})\r\n\r\nconst uiFinishLoading = () => ({\r\n    type: types.uiFinishLoading\r\n})\r\n\r\nexport {\r\n    setError,\r\n    removeError,\r\n    uiStartLoading,\r\n    uiFinishLoading\r\n}","import { signInWithPopup, createUserWithEmailAndPassword, updateProfile, signInWithEmailAndPassword, signOut } from \"firebase/auth\";\r\nimport { auth, googleAuthProvider } from '../firebase/config';\r\nimport types from \"../types/types\";\r\nimport { uiFinishLoading, uiStartLoading } from \"./ui\";\r\nimport Swal from 'sweetalert2';\r\nimport { noteLogout } from \"./notes\";\r\n\r\nexport const startLoginEmailPassword = (email, password) => {\r\n    return async dispatch => {\r\n        dispatch( uiStartLoading() );\r\n        try {\r\n            const { user } = await signInWithEmailAndPassword( auth, email, password );\r\n            dispatch( login( user.uid,  user.displayName ) );\r\n            dispatch( uiFinishLoading() );\r\n        } catch (error) {\r\n            dispatch( uiFinishLoading() );\r\n            Swal.fire('Error', error.message, 'error')\r\n        }\r\n    }\r\n}\r\n\r\nexport const starRegisterWithEmailPassworName = ( email, password, name ) => {\r\n    return async dispatch => {\r\n        try {\r\n            \r\n            const userCredentials = await createUserWithEmailAndPassword( auth, email, password ); // esta funcin aparte de crear tambien logea al usuario en firebase\r\n\r\n            const user =  userCredentials.user;\r\n\r\n            await updateProfile( user, {\r\n                displayName: name\r\n            } );\r\n\r\n            dispatch( login( user.uid, user.displayName ) );\r\n\r\n        } catch (error) {\r\n            Swal.fire('Error', error.message, 'error')\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const startGoogleLogin = () => {\r\n\r\n    return dispatch => {\r\n        signInWithPopup(auth, googleAuthProvider)\r\n            .then( userCredential => {\r\n                dispatch( login, userCredential.user.uid, userCredential.user.displayName );\r\n            } )\r\n            .catch( error => {\r\n                console.log(error);\r\n            } );\r\n    }\r\n}\r\n\r\nexport const login = ( uid, name ) => {\r\n    return {\r\n        type: types.login,\r\n        payload: {\r\n            uid,\r\n            name\r\n        }\r\n    }\r\n}\r\n\r\nexport const startLogout = () => {\r\n    return async dispatch => {\r\n        try {\r\n            await signOut( auth );\r\n            dispatch( logout() );\r\n            dispatch( noteLogout() );\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => ({\r\n    type: types.logout\r\n})","import moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { activeNote } from '../../actions/notes';\r\n\r\nconst JournalEntry = ({ id, date, title, body, url }) => {\r\n\r\n    const noteDate = moment(date);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleActive = () => {\r\n        dispatch( activeNote( id, { title, body, url, date } ) );\r\n    }\r\n\r\n    return (\r\n        <div \r\n            className=\"journal__entry pointer animate__animated animate__fadeInLeft animate__faster\"\r\n            onClick={handleActive}\r\n        >\r\n            {\r\n                url &&\r\n                    <div \r\n                        className=\"journal__entry-picture\"\r\n                        style={{\r\n                            backgroundSize: 'cover',\r\n                            backgroundImage: `url(${ url })`,\r\n                            backgroundPosition: 'center'\r\n                        }}\r\n                    ></div>\r\n            }\r\n\r\n            <div className=\"journal__entry-body\">\r\n                <p className=\"journal__entry-title\">\r\n                    { title }\r\n                </p>\r\n                <p className=\"journal__entry-content\">\r\n                    { body }\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"journal__entry-date-box\">\r\n                <span>{ noteDate.format(\"dddd\") }</span>\r\n                <h4>{ noteDate.format(\"Do\") }</h4>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JournalEntry;","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport JournalEntry from './JournalEntry';\r\n\r\nconst JournalEntries = () => {\r\n\r\n    const { notes } = useSelector(state => state.notes);\r\n\r\n    return (\r\n        <div className=\"journal__entries\">\r\n            {\r\n                notes.map(note => (\r\n                    <JournalEntry \r\n                        key={note.id}\r\n                        {...note}\r\n                    />\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JournalEntries;","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { startLogout } from '../../actions/auth';\r\nimport { startNewNote } from '../../actions/notes';\r\nimport JournalEntries from './JournalEntries';\r\n\r\nconst Sidebar = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    \r\n    const { name } = useSelector(state => state.auth);\r\n\r\n    const handleLogout = () => {\r\n        dispatch( startLogout() );\r\n    }\r\n\r\n    const handleAddNew = () => {\r\n        dispatch( startNewNote() );\r\n    }\r\n    \r\n    return (\r\n        <aside className=\"journal__sidebar\">\r\n            <div className=\"journal__sidebar-navbar\">\r\n                <h3 className=\"mt-5 journal__sidebar-username\">\r\n                    <i className=\"fa-solid fa-user\"></i>\r\n                    <span>{ name }</span>\r\n                </h3>\r\n\r\n                <button\r\n                    className=\"btn\"\r\n                    onClick={handleLogout}\r\n                >Logout</button>\r\n            </div>\r\n\r\n            <div className=\"journal__new-entry\"\r\n                onClick={handleAddNew}    \r\n            >\r\n                <i className=\"fa-solid fa-calendar-day fa-4x\"></i>\r\n                <p className=\"mt-5\">\r\n                    New Entry\r\n                </p>\r\n            </div>\r\n\r\n            <JournalEntries />\r\n        </aside>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport NoteScreen from '../notes/NoteScreen';\r\nimport NothingSelected from './NothingSelected';\r\nimport Sidebar from './Sidebar';\r\n\r\nconst JournalScreen = () => {\r\n\r\n    const { active } = useSelector(state => state.notes);\r\n\r\n    return (\r\n        <div className=\"journal__content\">\r\n            \r\n            <Sidebar />\r\n\r\n            <main>\r\n                {\r\n                    active ? \r\n                        <NoteScreen />\r\n                    :\r\n                        <NothingSelected />\r\n                }\r\n\r\n            </main>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JournalScreen;","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { startGoogleLogin, startLoginEmailPassword } from '../../actions/auth';\r\nimport { removeError, setError } from '../../actions/ui';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport validator from 'validator';\r\n\r\n\r\nconst LoginScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const error = useSelector(state => state.ui.msgError);\r\n    const loading = useSelector(state => state.ui.loading);\r\n\r\n    const [ { email, password }, handleInputChange ] = useForm({\r\n        email: '',\r\n        password:''\r\n    });\r\n\r\n    const handleLogin = e => {\r\n        e.preventDefault();\r\n\r\n        // validar si hay campos  vacios\r\n        if(email.trim() === '' || password.trim() === '' ){\r\n            dispatch( setError( 'Todos los campos son obligatorios' ) );\r\n            return;\r\n        }\r\n\r\n        if(!validator.isEmail(email)){\r\n            dispatch( setError( 'El email no es valido' ) );\r\n            return;\r\n        }\r\n\r\n        dispatch( removeError() );\r\n        dispatch( startLoginEmailPassword( email, password ) );\r\n    }\r\n\r\n    const handleGoogleLogin = () => {\r\n        dispatch( removeError() );\r\n        dispatch( startGoogleLogin() );\r\n    }\r\n\r\n    return (\r\n        <div className=\"animate__animated animate__fadeIn animate__faster\">\r\n            <h3 className='auth__title mb-5'>Login</h3>\r\n\r\n            <form\r\n                onSubmit={handleLogin}\r\n            >\r\n\r\n                {\r\n                    error &&\r\n                        <div className=\"auth__alert-error\">\r\n                            { error }\r\n                        </div>\r\n                }\r\n\r\n                <input  \r\n                    type=\"text\" \r\n                    placeholder=\"Email\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    className='auth__input mb-5'\r\n                    autoComplete=\"off\"\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <input \r\n                    type=\"password\" \r\n                    placeholder=\"Password\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    className='auth__input mb-5'\r\n                    autoComplete=\"off\"\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    className='btn btn-primary pointer btn-block'\r\n                    disabled={ loading }\r\n                >Login</button>\r\n\r\n                <hr />\r\n\r\n                <div className='auth__social-networks'>\r\n                    <p>Login With Social Networks</p>\r\n\r\n                    <div \r\n                        className=\"google-btn\"\r\n                        onClick={handleGoogleLogin}\r\n                    >\r\n                        <div className=\"google-icon-wrapper\">\r\n                            <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google button\" />\r\n                        </div>\r\n                        <p className=\"btn-text\">\r\n                            <b>Sign in with google</b>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <Link to='/auth/register' className=\"link\" >Create New Account</Link>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginScreen;","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport validator from 'validator';\r\nimport { useDispatch } from 'react-redux';\r\nimport { removeError, setError } from '../../actions/ui';\r\nimport { useSelector } from 'react-redux';\r\nimport { starRegisterWithEmailPassworName } from '../../actions/auth';\r\n\r\nconst RegisterScreen = () => {\r\n\r\n    const dispacth = useDispatch();\r\n    const error = useSelector(state => state.ui.msgError);\r\n\r\n    const [ usuario, handleInputChange ] = useForm({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: ''\r\n    });\r\n\r\n    const { name, email, password, password2 } = usuario;\r\n\r\n    const handleRegister = e => {\r\n        e.preventDefault();\r\n\r\n        if(isFormValid()){\r\n            dispacth( removeError() );\r\n            dispacth( starRegisterWithEmailPassworName( email, password, name ) );\r\n        }\r\n    }\r\n\r\n    // validar si el formulario es valido\r\n    const isFormValid = () => {\r\n\r\n        if( name.trim() === '' ) {\r\n            dispacth( setError( 'Name is required' ) );\r\n            return false;\r\n        }\r\n\r\n        if( !validator.isEmail(email) ){\r\n            dispacth( setError( 'Email is not valid' ) );\r\n            return false;\r\n        }\r\n\r\n        if( password.length < 5 || password !== password2 ){\r\n            dispacth( setError( 'Password should be at least 5 characters and match each others' ) );\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className=\"animate__animated animate__fadeIn animate__faster\"\r\n        >\r\n            <h3 className='auth__title mb-5'>Register</h3>\r\n\r\n            <form\r\n                onSubmit={handleRegister}\r\n            >\r\n\r\n                {\r\n                    error &&\r\n                        <div className=\"auth__alert-error\">\r\n                            { error }\r\n                        </div>\r\n                }\r\n\r\n                <input  \r\n                    type=\"text\" \r\n                    placeholder=\"Name\"\r\n                    name=\"name\" \r\n                    className='auth__input mb-5'\r\n                    autoComplete=\"off\"\r\n                    value={name}\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <input  \r\n                    type=\"text\" \r\n                    placeholder=\"Email\"\r\n                    name=\"email\" \r\n                    className='auth__input mb-5'\r\n                    autoComplete=\"off\"\r\n                    value={email}\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <input \r\n                    type=\"password\" \r\n                    placeholder=\"Password\"\r\n                    name=\"password\"\r\n                    className='auth__input mb-5'\r\n                    autoComplete=\"off\"\r\n                    value={password}\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <input \r\n                    type=\"password\" \r\n                    placeholder=\"Conifrm Password\"\r\n                    name=\"password2\"\r\n                    className='auth__input mb-5'\r\n                    autoComplete=\"off\"\r\n                    value={password2}\r\n                    onChange={handleInputChange}\r\n                />\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    className='btn btn-primary pointer btn-block mb-5'\r\n                >Register</button>\r\n\r\n                <Link to='/auth/login' className=\"link\" >Already Register</Link>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterScreen;","import React from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router';\r\nimport LoginScreen from '../components/auth/LoginScreen';\r\nimport RegisterScreen from '../components/auth/RegisterScreen';\r\n\r\nconst AuthRouter = () => {\r\n    return (\r\n        <div className='auth'>\r\n            <div className=\"auth__container mb-5\">\r\n                <Switch>\r\n                    <Route exact path='/auth/login' component={LoginScreen}/>\r\n                    <Route exact path='/auth/Register' component={RegisterScreen}/>\r\n                    <Redirect to='/auth/login' />\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthRouter;","import React from 'react'\r\n\r\nconst LoadingScreen = () => {\r\n    return (\r\n        <div className=\"auth\">\r\n            <div className=\"spinner\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingScreen;","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({\r\n    component: Component,\r\n    isLoggedIn,\r\n    ...rest\r\n}) => (\r\n    <Route\r\n        {...rest}\r\n        component={ props => (\r\n            isLoggedIn ? \r\n                <Component {...props} />\r\n            :\r\n                <Redirect to=\"/auth/login\" />\r\n        ) }\r\n    />\r\n)\r\n\r\nPrivateRoute.propTypes = {\r\n    component: PropTypes.func.isRequired,\r\n    isLoggedIn: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react'\r\nimport { Redirect, Route } from 'react-router';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PublicRoute = ({\r\n    isLoggedIn,\r\n    component: Component,\r\n    ...rest\r\n}) =>(\r\n    <Route \r\n        {...rest}\r\n        component={ props => (\r\n            isLoggedIn ? \r\n                <Redirect to=\"/\" />\r\n            :\r\n                <Component {...props} />\r\n        )}\r\n    />\r\n)\r\n\r\nPublicRoute.propTypes = {\r\n    component: PropTypes.func.isRequired,\r\n    isLoggedIn: PropTypes.bool.isRequired\r\n}\r\n\r\n\r\nexport default PublicRoute;","import JournalScreen from '../components/journal/JournalScreen';\r\nimport AuthRouter from './AuthRouter';\r\nimport { \r\n    BrowserRouter as Router,   \r\n    Switch,\r\n    Redirect\r\n} from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport { auth } from '../firebase/config';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../actions/auth';\r\nimport { onAuthStateChanged } from '@firebase/auth';\r\nimport LoadingScreen from '../components/LoadingScreen';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicRoute from './PublicRoute';\r\nimport { startLoadinNotes } from '../actions/notes';\r\n\r\nconst AppRouter = () => {\r\n\r\n    const [checking, setChecking] = useState(true);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n\r\n        onAuthStateChanged( auth, async user => { // se ejecuta una unica vez y es un obserbable que estara al pendiente si la autenticacion cambia, leer documentacion para mas info\r\n            if(user){\r\n                dispatch( login( user.uid, user.displayName ) );\r\n                setIsLoggedIn( true );\r\n\r\n                dispatch( startLoadinNotes() );\r\n            }else{\r\n                setIsLoggedIn( false );\r\n            }\r\n\r\n            setChecking( false );// ya sea que firebase retorne null o un usuario autenticado, dejara de cargar la autenticacion de firebase, ya que ningun componente debe mostrarse mientras firebase haga la autenticacion no importa si retorna null o un usuario.\r\n\r\n        } );\r\n\r\n    }, [ dispatch, setChecking, setIsLoggedIn ]) // dispatch y isAuthenticated son contantes y no van a cambiar a cambiar por ende no entra al ciclo infinito\r\n\r\n    if( checking ){\r\n        return <LoadingScreen />\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <PublicRoute path='/auth' component={AuthRouter} isLoggedIn={isLoggedIn} />\r\n                <PrivateRoute exact path='/' component={JournalScreen} isLoggedIn={isLoggedIn} />\r\n                <Redirect to='/' />\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import types from \"../types/types\";\r\n\r\nconst authReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case types.login:\r\n            return {\r\n                uid: action.payload.uid,\r\n                name: action.payload.name\r\n            };\r\n\r\n        case types.logout:\r\n            return { }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import types from \"../types/types\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    msgError: null\r\n}\r\n\r\nconst uiReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case types.uiSetError:\r\n            return {\r\n                ...state, \r\n                msgError: action.payload\r\n            };\r\n\r\n        case types.uiRemoveError:\r\n            return{\r\n                ...state,\r\n                msgError: null\r\n            }\r\n\r\n        case types.uiStartLoading:\r\n            return{\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case types.uiFinishLoading:\r\n            return{\r\n                ...state,\r\n                loading: false\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport default uiReducer;","import types from \"../types/types\";\r\n\r\nconst initialState = {\r\n    notes: [],\r\n    active: null\r\n}\r\n\r\nconst notesReducer = ( state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case types.notesActive:\r\n            return {\r\n                ...state,\r\n                active: {\r\n                    ...action.payload\r\n                }\r\n            };\r\n\r\n        case types.notesAddNew:\r\n            return{\r\n                ...state,\r\n                notes: [ action.payload, ...state.notes ]\r\n            }\r\n        \r\n        case types.notesLoad:\r\n            return{\r\n                ...state, \r\n                notes: [ ...action.payload ]\r\n            }\r\n\r\n        case types.notesUpdated:\r\n            return {\r\n                ...state,\r\n                notes: state.notes.map( note => note.id === action.payload.id ? action.payload : note )\r\n            }\r\n\r\n        case types.notesDelete:\r\n            return{\r\n                ...state,\r\n                active: null,\r\n                notes: state.notes.filter( note => note.id !== action.payload )\r\n            }\r\n\r\n        case types.notesLogoutCleaning: \r\n            return {\r\n                notes: [],\r\n                active: null\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default notesReducer;","import {combineReducers, createStore, applyMiddleware, compose} from 'redux';\r\nimport authReducer from '../reducres/authReducer';\r\nimport thunk from 'redux-thunk';\r\nimport uiReducer from '../reducres/uiReducer';\r\nimport notesReducer from '../reducres/notesReducer';\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n    ui: uiReducer,\r\n    notes: notesReducer\r\n});\r\n\r\n// LEE LA DOCUMENTACION EL LITERAL 1.3 PARA DESCARGAR CON NPM\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__  RETORNA UNA FUNCION AL IGAUL QUE COMPOSE las cuales se usan en el create store para poder aplicar middleware\r\n// aqui se pregunta si existe devtools como extension regresa el primero, si no regresa compose\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducers,\r\n    composeEnhancers(\r\n        applyMiddleware( thunk )\r\n    )\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport AppRouter from './routers/AppRouter';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store/store';\r\n\r\nconst JournalApp = () => {\r\n    return (\r\n        <Provider store={ store }>\r\n            <AppRouter />\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default JournalApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport JournalApp from './JournalApp';\nimport './styles/styles.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <JournalApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}